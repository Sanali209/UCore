============================= test session starts =============================
platform win32 -- Python 3.11.9, pytest-8.4.2, pluggy-1.6.0
rootdir: D:\UCore
plugins: anyio-4.10.0, asyncio-1.2.0, mock-3.15.0
asyncio: mode=Mode.STRICT, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collected 682 items

tests\core\test_app.py .............                                     [  1%]
tests\core\test_component.py ..............................              [  6%]
tests\core\test_config.py ...........................................    [ 12%]
tests\core\test_di.py ...............................                    [ 17%]
tests\core\test_plugins.py .................                             [ 19%]
tests\core\test_settings.py .........................................    [ 25%]
tests\core\test_timemeasure.py ...                                       [ 26%]
tests\core\test_undo_system.py ...                                       [ 26%]
tests\data\test_db.py .................                                  [ 29%]
tests\data\test_disk_cache.py ..............................             [ 33%]
tests\data\test_mongo_adapter.py ............                            [ 35%]
tests\data\test_mongo_orm.py ........................................... [ 41%]
......................                                                   [ 44%]
tests\desktop\test_flet_adapter.py ..............                        [ 46%]
tests\desktop\test_pyside6_adapter.py .............................      [ 51%]
tests\integration\test_core_data_messaging_integration.py ..             [ 51%]
tests\integration\test_core_messaging_resource_integration.py ..         [ 51%]
tests\integration\test_database_integration.py ..s.....                  [ 52%]
tests\integration\test_monitoring_logging_metrics_integration.py .       [ 52%]
tests\integration\test_redis_event_bridge_integration.py .               [ 53%]
tests\integration\test_resource_data_integration.py ..                   [ 53%]
tests\integration\test_ucore_resource_integration.py ...                 [ 53%]
tests\messaging\test_event_bus.py ..................................     [ 58%]
tests\messaging\test_events.py ........................................  [ 64%]
tests\messaging\test_redis_adapter.py ....F............................. [ 69%]
                                                                         [ 69%]
tests\messaging\test_redis_event_bridge.py ....F...FFF.........FF.       [ 73%]
tests\monitoring\test_http_metrics.py ......................             [ 76%]
tests\monitoring\test_logging.py .......F                                [ 77%]
tests\monitoring\test_observability.py .....                             [ 78%]
tests\monitoring\test_progress.py ....F.                                 [ 79%]
tests\processing\test_adapters.py .F....                                 [ 79%]
tests\processing\test_task_system.py .....F.............FF.......        [ 84%]
tests\resource\test_backend_pool_types.py ....F.                         [ 84%]
tests\resource\test_resource_manager.py ..F.......FFFFFFFF.FFFF.....F    [ 89%]
tests\resource\test_secrets_manager.py .                                 [ 89%]
tests\resource\test_unified_registry_integration.py ...                  [ 89%]
tests\test_debug_utilities.py ........s.......................s......... [ 95%]
..s.......                                                               [ 97%]
tests\web\test_http_server.py ..................                         [100%]

================================== FAILURES ===================================
__________ TestRedisAdapterLifecycle.test_start_success_with_config ___________
C:\Users\User\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py:950: in assert_called_once_with
    raise AssertionError(msg)
E   AssertionError: Expected 'mock' to be called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\messaging\test_redis_adapter.py:114: in test_start_success_with_config
    mock_redis_class.assert_called_once_with(
E   AssertionError: Expected 'mock' to be called once. Called 0 times.
________ TestEventBusToRedisBridge.test_create_bridge_message_fallback ________
tests\messaging\test_redis_event_bridge.py:84: in test_create_bridge_message_fallback
    assert message['event_type'] == 'unknown'
E   AssertionError: assert 'str' == 'unknown'
E     
E     - unknown
E     + str
_____ TestRedisToEventBusBridge.test_listener_callback_with_json_message ______
tests\messaging\test_redis_event_bridge.py:145: in test_listener_callback_with_json_message
    listener = self.bridge.redis_listeners[redis_channel]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'test.channel'
______ TestRedisToEventBusBridge.test_listener_callback_with_plain_text _______
tests\messaging\test_redis_event_bridge.py:165: in test_listener_callback_with_plain_text
    listener = self.bridge.redis_listeners[redis_channel]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'test.channel'
_______ TestRedisToEventBusBridge.test_listener_callback_error_handling _______
tests\messaging\test_redis_event_bridge.py:185: in test_listener_callback_error_handling
    listener = self.bridge.redis_listeners[redis_channel]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   KeyError: 'test.channel'
____ TestRedisAdapterEventBridgeIntegration.test_bridge_settings_override _____
tests\messaging\test_redis_event_bridge.py:339: in test_bridge_settings_override
    adapter = RedisAdapter(self.app)
              ^^^^^^^^^^^^
E   NameError: name 'RedisAdapter' is not defined
___ TestBridgeForwarderExecution.test_eventbus_to_redis_forwarder_execution ___
tests\messaging\test_redis_event_bridge.py:363: in test_eventbus_to_redis_forwarder_execution
    await bridge.register_event_forwarder(AppStartedEvent, 'ucore.events.app.started')
E   TypeError: object NoneType can't be used in 'await' expression
_____________ TestLoggingGetLogger.test_get_logger_cached_logger ______________
tests\monitoring\test_logging.py:161: in test_get_logger_cached_logger
    assert result1 == result2
E   assert <framework.monitoring.logging.LoggerWrapper object at 0x00000197449D7610> == <framework.monitoring.logging.LoggerWrapper object at 0x00000197449D7150>
________________________ test_tqdm_progress_visualizer ________________________
tests\monitoring\test_progress.py:43: in test_tqdm_progress_visualizer
    vis.update_progress(5, 10, "Half", "TQDM Test")
framework\monitoring\progress.py:23: in update_progress
    self.pbar.update(delta)
    ^^^^^^^^^^^^^^^^
E   AttributeError: 'NoneType' object has no attribute 'update'
______________________ test_task_queue_adapter_lifecycle ______________________
tests\processing\test_adapters.py:22: in test_task_queue_adapter_lifecycle
    await adapter.start()
E   TypeError: object NoneType can't be used in 'await' expression
_______________ TestBackgroundTasks.test_process_data_task_list _______________
tests\processing\test_task_system.py:68: in test_process_data_task_list
    assert isinstance(result, dict)
E   AssertionError: assert False
E    +  where False = isinstance([{'input': 1, 'processed': True}, {'input': 2, 'processed': True}, {'input': 3, 'processed': True}], dict)
---------------------------- Captured stdout call -----------------------------
Processing data: [1, 2, 3]
Processing data: 1
Processing data: 2
Processing data: 3
_____________ TestTaskPerformance.test_concurrent_task_execution ______________
tests\processing\test_task_system.py:312: in test_concurrent_task_execution
    assert len(data_results) == 2   # Two data processing tasks
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
E   assert 0 == 2
E    +  where 0 = len([])
---------------------------- Captured stdout call -----------------------------
Sending email to test1@example.com: Subject1
Sending email to test2@example.com: Subject2
Processing data: test_data_1
Processing data: test_data_2
_______________ TestTaskIntegration.test_task_with_celery_mock ________________
tests\processing\test_task_system.py:336: in test_task_with_celery_mock
    assert mock_celery_app.task.called
E   AssertionError: assert False
E    +  where False = <Mock name='mock.task' id='1749202028496'>.called
E    +    where <Mock name='mock.task' id='1749202028496'> = <Mock id='1749202028624'>.task
________________________ test_resource_pool_lifecycle _________________________
tests\resource\test_backend_pool_types.py:59: in test_resource_pool_lifecycle
    pool = DummyResourcePool()
           ^^^^^^^^^^^^^^^^^^^
tests\resource\test_backend_pool_types.py:43: in __init__
    super().__init__(max_size=2)
E   TypeError: ResourcePool.__init__() got an unexpected keyword argument 'max_size'
__________ TestResourceManagerInitialization.test_manager_properties __________
tests\resource\test_resource_manager.py:111: in test_manager_properties
    _ = manager["test3"]
        ^^^^^^^^^^^^^^^^
framework\resource\manager.py:360: in __getitem__
    return self.get_resource(name)
           ^^^^^^^^^^^^^^^^^^^^^^^
framework\resource\manager.py:134: in get_resource
    raise ResourceNotFoundError(name)
E   framework.resource.exceptions.ResourceNotFoundError: Resource not found: test3 [Resource: test3, Type: None]
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:04.944 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.234642", "seconds": 60.234642}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.944754+03:00", "timestamp": 1758101164.944754}}}\n{"text": "2025-09-17 12:26:04.944 | INFO     | framework.resource.resource:__init__:80 - Resource test1 created with type test\\n", "record": {"elapsed": {"repr": "0:01:00.234642", "seconds": 60.234642}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource test1 created with type test", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.944754+03:00", "timestamp": 1758101164.944754}}}\n{"text": "2025-09-17 12:26:04.944 | INFO     | framework.resource.resource:__init__:80 - Resource test2 created with type test\\n", "record": {"elapsed": {"repr": "0:01:00.234642", "seconds": 60.234642}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource test2 created with type test", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.944754+03:00", "timestamp": 1758101164.944754}}}
__________ TestLifecycleManagement.test_start_all_resources_success ___________
tests\resource\test_resource_manager.py:235: in test_start_all_resources_success
    await manager.start_all_resources()
framework\resource\manager.py:186: in start_all_resources
    await self._publish_event("resources_started", {
framework\resource\manager.py:334: in _publish_event
    event = ResourceEvent(
E   TypeError: ResourceEvent.__init__() got an unexpected keyword argument 'data'
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:04.974 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | INFO     | framework.resource.resource:__init__:80 - Resource resource1 created with type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource1 created with type type_a", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | INFO     | framework.resource.resource:__init__:80 - Resource resource2 created with type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource2 created with type type_b", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | INFO     | framework.resource.manager:register_resource:79 - Registered resource resource1 of type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource resource1 of type type_a", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | INFO     | framework.resource.manager:register_resource:79 - Registered resource resource2 of type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource resource2 of type type_b", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | INFO     | framework.resource.resource:initialize:116 - Initializing resource resource1\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource resource1", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource resource1: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource resource1: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource resource1: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource1, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource resource1: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource1, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.974 | INFO     | framework.resource.resource:initialize:116 - Initializing resource resource2\\n", "record": {"elapsed": {"repr": "0:01:00.264263", "seconds": 60.264263}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource resource2", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.974375+03:00", "timestamp": 1758101164.974375}}}\n{"text": "2025-09-17 12:26:04.975 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource resource2: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.265262", "seconds": 60.265262}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource resource2: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.975374+03:00", "timestamp": 1758101164.975374}}}\n{"text": "2025-09-17 12:26:04.975 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource resource2: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource2, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.265262", "seconds": 60.265262}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource resource2: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource2, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.975374+03:00", "timestamp": 1758101164.975374}}}
________ TestLifecycleManagement.test_start_all_resources_with_failure ________
tests\resource\test_resource_manager.py:261: in test_start_all_resources_with_failure
    await manager.start_all_resources()
framework\resource\manager.py:186: in start_all_resources
    await self._publish_event("resources_started", {
framework\resource\manager.py:334: in _publish_event
    event = ResourceEvent(
E   TypeError: ResourceEvent.__init__() got an unexpected keyword argument 'data'
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:04.991 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.281263", "seconds": 60.281263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.991375+03:00", "timestamp": 1758101164.991375}}}\n{"text": "2025-09-17 12:26:04.991 | INFO     | framework.resource.resource:__init__:80 - Resource resource1 created with type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.281263", "seconds": 60.281263}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource1 created with type type_a", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.991375+03:00", "timestamp": 1758101164.991375}}}\n{"text": "2025-09-17 12:26:04.991 | INFO     | framework.resource.resource:__init__:80 - Resource resource2 created with type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.281263", "seconds": 60.281263}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource2 created with type type_b", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.991375+03:00", "timestamp": 1758101164.991375}}}\n{"text": "2025-09-17 12:26:04.991 | INFO     | framework.resource.manager:register_resource:79 - Registered resource resource1 of type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.281263", "seconds": 60.281263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource resource1 of type type_a", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.991375+03:00", "timestamp": 1758101164.991375}}}\n{"text": "2025-09-17 12:26:04.991 | INFO     | framework.resource.manager:register_resource:79 - Registered resource resource2 of type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.281263", "seconds": 60.281263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource resource2 of type type_b", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.991375+03:00", "timestamp": 1758101164.991375}}}\n{"text": "2025-09-17 12:26:04.991 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.281263", "seconds": 60.281263}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.991375+03:00", "timestamp": 1758101164.991375}}}\n{"text": "2025-09-17 12:26:04.991 | INFO     | framework.resource.resource:initialize:116 - Initializing resource resource1\\n", "record": {"elapsed": {"repr": "0:01:00.281263", "seconds": 60.281263}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource resource1", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.991375+03:00", "timestamp": 1758101164.991375}}}\n{"text": "2025-09-17 12:26:04.992 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource resource1: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.282295", "seconds": 60.282295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource resource1: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.992407+03:00", "timestamp": 1758101164.992407}}}\n{"text": "2025-09-17 12:26:04.992 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource resource1: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource1, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.282295", "seconds": 60.282295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource resource1: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource1, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.992407+03:00", "timestamp": 1758101164.992407}}}\n{"text": "2025-09-17 12:26:04.992 | INFO     | framework.resource.resource:initialize:116 - Initializing resource resource2\\n", "record": {"elapsed": {"repr": "0:01:00.282295", "seconds": 60.282295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource resource2", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.992407+03:00", "timestamp": 1758101164.992407}}}\n{"text": "2025-09-17 12:26:04.992 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource resource2: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.282295", "seconds": 60.282295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource resource2: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.992407+03:00", "timestamp": 1758101164.992407}}}\n{"text": "2025-09-17 12:26:04.992 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource resource2: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource2, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.282295", "seconds": 60.282295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource resource2: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource2, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:04.992407+03:00", "timestamp": 1758101164.992407}}}
___________ TestLifecycleManagement.test_stop_all_resources_success ___________
tests\resource\test_resource_manager.py:281: in test_stop_all_resources_success
    await manager.start_all_resources()
framework\resource\manager.py:186: in start_all_resources
    await self._publish_event("resources_started", {
framework\resource\manager.py:334: in _publish_event
    event = ResourceEvent(
E   TypeError: ResourceEvent.__init__() got an unexpected keyword argument 'data'
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.008 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.298295", "seconds": 60.298295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.008407+03:00", "timestamp": 1758101165.008407}}}\n{"text": "2025-09-17 12:26:05.009 | INFO     | framework.resource.resource:__init__:80 - Resource resource1 created with type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.299292", "seconds": 60.299292}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource1 created with type type_a", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.009404+03:00", "timestamp": 1758101165.009404}}}\n{"text": "2025-09-17 12:26:05.009 | INFO     | framework.resource.resource:__init__:80 - Resource resource2 created with type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.299292", "seconds": 60.299292}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource2 created with type type_b", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.009404+03:00", "timestamp": 1758101165.009404}}}\n{"text": "2025-09-17 12:26:05.009 | INFO     | framework.resource.manager:register_resource:79 - Registered resource resource1 of type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.299292", "seconds": 60.299292}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource resource1 of type type_a", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.009404+03:00", "timestamp": 1758101165.009404}}}\n{"text": "2025-09-17 12:26:05.009 | INFO     | framework.resource.manager:register_resource:79 - Registered resource resource2 of type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.299292", "seconds": 60.299292}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource resource2 of type type_b", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.009404+03:00", "timestamp": 1758101165.009404}}}\n{"text": "2025-09-17 12:26:05.009 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.299292", "seconds": 60.299292}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.009404+03:00", "timestamp": 1758101165.009404}}}\n{"text": "2025-09-17 12:26:05.009 | INFO     | framework.resource.resource:initialize:116 - Initializing resource resource1\\n", "record": {"elapsed": {"repr": "0:01:00.299292", "seconds": 60.299292}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource resource1", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.009404+03:00", "timestamp": 1758101165.009404}}}\n{"text": "2025-09-17 12:26:05.009 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource resource1: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.299292", "seconds": 60.299292}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource resource1: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.009404+03:00", "timestamp": 1758101165.009404}}}\n{"text": "2025-09-17 12:26:05.010 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource resource1: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource1, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.300295", "seconds": 60.300295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource resource1: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource1, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.010407+03:00", "timestamp": 1758101165.010407}}}\n{"text": "2025-09-17 12:26:05.010 | INFO     | framework.resource.resource:initialize:116 - Initializing resource resource2\\n", "record": {"elapsed": {"repr": "0:01:00.300295", "seconds": 60.300295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource resource2", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.010407+03:00", "timestamp": 1758101165.010407}}}\n{"text": "2025-09-17 12:26:05.010 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource resource2: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.300295", "seconds": 60.300295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource resource2: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.010407+03:00", "timestamp": 1758101165.010407}}}\n{"text": "2025-09-17 12:26:05.010 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource resource2: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource2, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.300295", "seconds": 60.300295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource resource2: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource2, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.010407+03:00", "timestamp": 1758101165.010407}}}
________ TestLifecycleManagement.test_stop_all_resources_with_failure _________
tests\resource\test_resource_manager.py:306: in test_stop_all_resources_with_failure
    await manager.start_all_resources()
framework\resource\manager.py:186: in start_all_resources
    await self._publish_event("resources_started", {
framework\resource\manager.py:334: in _publish_event
    event = ResourceEvent(
E   TypeError: ResourceEvent.__init__() got an unexpected keyword argument 'data'
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.025 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.315290", "seconds": 60.31529}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.025402+03:00", "timestamp": 1758101165.025402}}}\n{"text": "2025-09-17 12:26:05.026 | INFO     | framework.resource.resource:__init__:80 - Resource resource1 created with type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource1 created with type type_a", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.026 | INFO     | framework.resource.resource:__init__:80 - Resource resource2 created with type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource2 created with type type_b", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.026 | INFO     | framework.resource.manager:register_resource:79 - Registered resource resource1 of type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource resource1 of type type_a", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.026 | INFO     | framework.resource.manager:register_resource:79 - Registered resource resource2 of type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource resource2 of type type_b", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.026 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.026 | INFO     | framework.resource.resource:initialize:116 - Initializing resource resource1\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource resource1", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.026 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource resource1: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource resource1: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.026 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource resource1: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource1, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource resource1: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource1, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.026 | INFO     | framework.resource.resource:initialize:116 - Initializing resource resource2\\n", "record": {"elapsed": {"repr": "0:01:00.316295", "seconds": 60.316295}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource resource2", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.026407+03:00", "timestamp": 1758101165.026407}}}\n{"text": "2025-09-17 12:26:05.027 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource resource2: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.317290", "seconds": 60.31729}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource resource2: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.027402+03:00", "timestamp": 1758101165.027402}}}\n{"text": "2025-09-17 12:26:05.027 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource resource2: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource2, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.317290", "seconds": 60.31729}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource resource2: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: resource2, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.027402+03:00", "timestamp": 1758101165.027402}}}
________________ TestLifecycleManagement.test_shutdown_timeout ________________
C:\Users\User\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py:918: in assert_called_once
    raise AssertionError(msg)
E   AssertionError: Expected 'wait_for' to have been called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\resource\test_resource_manager.py:336: in test_shutdown_timeout
    mock_wait_for.assert_called_once()
E   AssertionError: Expected 'wait_for' to have been called once. Called 0 times.
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.043 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.333159", "seconds": 60.333159}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.043271+03:00", "timestamp": 1758101165.043271}}}\n{"text": "2025-09-17 12:26:05.043 | INFO     | framework.resource.resource:__init__:80 - Resource slow_resource created with type test\\n", "record": {"elapsed": {"repr": "0:01:00.333159", "seconds": 60.333159}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource slow_resource created with type test", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.043271+03:00", "timestamp": 1758101165.043271}}}\n{"text": "2025-09-17 12:26:05.043 | INFO     | framework.resource.manager:register_resource:79 - Registered resource slow_resource of type test\\n", "record": {"elapsed": {"repr": "0:01:00.333159", "seconds": 60.333159}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource slow_resource of type test", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.043271+03:00", "timestamp": 1758101165.043271}}}\n{"text": "2025-09-17 12:26:05.044 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.334158", "seconds": 60.334158}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.044270+03:00", "timestamp": 1758101165.04427}}}\n{"text": "2025-09-17 12:26:05.044 | INFO     | framework.resource.resource:initialize:116 - Initializing resource slow_resource\\n", "record": {"elapsed": {"repr": "0:01:00.334158", "seconds": 60.334158}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource slow_resource", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.044270+03:00", "timestamp": 1758101165.04427}}}\n{"text": "2025-09-17 12:26:05.044 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource slow_resource: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.334158", "seconds": 60.334158}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource slow_resource: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.044270+03:00", "timestamp": 1758101165.04427}}}\n{"text": "2025-09-17 12:26:05.044 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource slow_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: slow_resource, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.334158", "seconds": 60.334158}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource slow_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: slow_resource, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.044270+03:00", "timestamp": 1758101165.04427}}}\n{"text": "2025-09-17 12:26:05.044 | WARNING  | framework.resource.manager:start_all_resources:198 - Some resources failed to start: [('slow_resource', \\"Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: slow_resource, Type: None]\\")]\\n", "record": {"elapsed": {"repr": "0:01:00.334158", "seconds": 60.334158}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u26a0\ufe0f", "name": "WARNING", "no": 30}, "line": 198, "message": "Some resources failed to start: [('slow_resource', \\"Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: slow_resource, Type: None]\\")]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.044270+03:00", "timestamp": 1758101165.04427}}}\n{"text": "2025-09-17 12:26:05.044 | INFO     | framework.resource.manager:stop_all_resources:211 - Stopping all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.334158", "seconds": 60.334158}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "stop_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 211, "message": "Stopping all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.044270+03:00", "timestamp": 1758101165.04427}}}\n{"text": "2025-09-17 12:26:05.044 | INFO     | framework.resource.manager:stop_all_resources:248 - All resources stopped\\n", "record": {"elapsed": {"repr": "0:01:00.334158", "seconds": 60.334158}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "stop_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 248, "message": "All resources stopped", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.044270+03:00", "timestamp": 1758101165.04427}}}
____________ TestHealthMonitoring.test_health_check_all_resources _____________
tests\resource\test_resource_manager.py:349: in test_health_check_all_resources
    resource2.state = "error"  # This will return unhealthy
    ^^^^^^^^^^^^^^^
E   AttributeError: property 'state' of 'MockResource' object has no setter
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.134 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.424158", "seconds": 60.424158}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.134270+03:00", "timestamp": 1758101165.13427}}}\n{"text": "2025-09-17 12:26:05.134 | INFO     | framework.resource.resource:__init__:80 - Resource resource1 created with type type_a\\n", "record": {"elapsed": {"repr": "0:01:00.424158", "seconds": 60.424158}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource1 created with type type_a", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.134270+03:00", "timestamp": 1758101165.13427}}}\n{"text": "2025-09-17 12:26:05.134 | INFO     | framework.resource.resource:__init__:80 - Resource resource2 created with type type_b\\n", "record": {"elapsed": {"repr": "0:01:00.424158", "seconds": 60.424158}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource resource2 created with type type_b", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.134270+03:00", "timestamp": 1758101165.13427}}}
___________ TestHealthMonitoring.test_health_check_monitoring_loop ____________
tests\resource\test_resource_manager.py:375: in test_health_check_monitoring_loop
    await manager.start_all_resources()
framework\resource\manager.py:186: in start_all_resources
    await self._publish_event("resources_started", {
framework\resource\manager.py:334: in _publish_event
    event = ResourceEvent(
E   TypeError: ResourceEvent.__init__() got an unexpected keyword argument 'data'
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.144 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.434169", "seconds": 60.434169}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.144281+03:00", "timestamp": 1758101165.144281}}}\n{"text": "2025-09-17 12:26:05.144 | INFO     | framework.resource.resource:__init__:80 - Resource monitored_resource created with type test\\n", "record": {"elapsed": {"repr": "0:01:00.434169", "seconds": 60.434169}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource monitored_resource created with type test", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.144281+03:00", "timestamp": 1758101165.144281}}}\n{"text": "2025-09-17 12:26:05.144 | INFO     | framework.resource.manager:register_resource:79 - Registered resource monitored_resource of type test\\n", "record": {"elapsed": {"repr": "0:01:00.434169", "seconds": 60.434169}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource monitored_resource of type test", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.144281+03:00", "timestamp": 1758101165.144281}}}\n{"text": "2025-09-17 12:26:05.145 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.435169", "seconds": 60.435169}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.145281+03:00", "timestamp": 1758101165.145281}}}\n{"text": "2025-09-17 12:26:05.145 | INFO     | framework.resource.resource:initialize:116 - Initializing resource monitored_resource\\n", "record": {"elapsed": {"repr": "0:01:00.435169", "seconds": 60.435169}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource monitored_resource", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.145281+03:00", "timestamp": 1758101165.145281}}}\n{"text": "2025-09-17 12:26:05.145 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource monitored_resource: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.435169", "seconds": 60.435169}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource monitored_resource: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.145281+03:00", "timestamp": 1758101165.145281}}}\n{"text": "2025-09-17 12:26:05.145 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource monitored_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: monitored_resource, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.435169", "seconds": 60.435169}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource monitored_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: monitored_resource, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.145281+03:00", "timestamp": 1758101165.145281}}}
________________ TestHealthMonitoring.test_get_resource_stats _________________
tests\resource\test_resource_manager.py:400: in test_get_resource_stats
    assert "stats_resource" in stats
           ^^^^^^^^^^^^^^^^^^^^^^^^^
E   TypeError: argument of type 'coroutine' is not iterable
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.160 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.450168", "seconds": 60.450168}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.160280+03:00", "timestamp": 1758101165.16028}}}\n{"text": "2025-09-17 12:26:05.160 | INFO     | framework.resource.resource:__init__:80 - Resource stats_resource created with type test\\n", "record": {"elapsed": {"repr": "0:01:00.450168", "seconds": 60.450168}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource stats_resource created with type test", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.160280+03:00", "timestamp": 1758101165.16028}}}\n{"text": "2025-09-17 12:26:05.160 | INFO     | framework.resource.manager:register_resource:79 - Registered resource stats_resource of type test\\n", "record": {"elapsed": {"repr": "0:01:00.450168", "seconds": 60.450168}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource stats_resource of type test", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.160280+03:00", "timestamp": 1758101165.16028}}}
________ TestResourceCleanup.test_unregister_resource_with_di_cleanup _________
C:\Users\User\AppData\Local\Programs\Python\Python311\Lib\unittest\mock.py:950: in assert_called_once_with
    raise AssertionError(msg)
E   AssertionError: Expected 'unregister' to be called once. Called 0 times.

During handling of the above exception, another exception occurred:
tests\resource\test_resource_manager.py:434: in test_unregister_resource_with_di_cleanup
    di_container.unregister.assert_called_once_with("test_resource")
E   AssertionError: Expected 'unregister' to be called once. Called 0 times.
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.171 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.461166", "seconds": 60.461166}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.171278+03:00", "timestamp": 1758101165.171278}}}\n{"text": "2025-09-17 12:26:05.171 | INFO     | framework.resource.resource:__init__:80 - Resource test_resource created with type test_type\\n", "record": {"elapsed": {"repr": "0:01:00.461166", "seconds": 60.461166}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource test_resource created with type test_type", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.171278+03:00", "timestamp": 1758101165.171278}}}\n{"text": "2025-09-17 12:26:05.171 | INFO     | framework.resource.manager:register_resource:79 - Registered resource test_resource of type test_type\\n", "record": {"elapsed": {"repr": "0:01:00.461166", "seconds": 60.461166}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource test_resource of type test_type", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.171278+03:00", "timestamp": 1758101165.171278}}}
____________ TestEventIntegration.test_event_publishing_on_startup ____________
tests\resource\test_resource_manager.py:452: in test_event_publishing_on_startup
    await manager.start_all_resources()
framework\resource\manager.py:186: in start_all_resources
    await self._publish_event("resources_started", {
framework\resource\manager.py:334: in _publish_event
    event = ResourceEvent(
E   TypeError: ResourceEvent.__init__() got an unexpected keyword argument 'data'
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.206 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.496167", "seconds": 60.496167}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.206279+03:00", "timestamp": 1758101165.206279}}}\n{"text": "2025-09-17 12:26:05.206 | INFO     | framework.resource.resource:__init__:80 - Resource event_resource created with type test\\n", "record": {"elapsed": {"repr": "0:01:00.496167", "seconds": 60.496167}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource event_resource created with type test", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.206279+03:00", "timestamp": 1758101165.206279}}}\n{"text": "2025-09-17 12:26:05.206 | INFO     | framework.resource.manager:register_resource:79 - Registered resource event_resource of type test\\n", "record": {"elapsed": {"repr": "0:01:00.496167", "seconds": 60.496167}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource event_resource of type test", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.206279+03:00", "timestamp": 1758101165.206279}}}\n{"text": "2025-09-17 12:26:05.206 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.496167", "seconds": 60.496167}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.206279+03:00", "timestamp": 1758101165.206279}}}\n{"text": "2025-09-17 12:26:05.207 | INFO     | framework.resource.resource:initialize:116 - Initializing resource event_resource\\n", "record": {"elapsed": {"repr": "0:01:00.497166", "seconds": 60.497166}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource event_resource", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.207278+03:00", "timestamp": 1758101165.207278}}}\n{"text": "2025-09-17 12:26:05.207 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource event_resource: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.497166", "seconds": 60.497166}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource event_resource: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.207278+03:00", "timestamp": 1758101165.207278}}}\n{"text": "2025-09-17 12:26:05.207 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource event_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: event_resource, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.497166", "seconds": 60.497166}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource event_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: event_resource, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.207278+03:00", "timestamp": 1758101165.207278}}}
___________ TestEventIntegration.test_event_publishing_on_shutdown ____________
tests\resource\test_resource_manager.py:466: in test_event_publishing_on_shutdown
    await manager.start_all_resources()
framework\resource\manager.py:186: in start_all_resources
    await self._publish_event("resources_started", {
framework\resource\manager.py:334: in _publish_event
    event = ResourceEvent(
E   TypeError: ResourceEvent.__init__() got an unexpected keyword argument 'data'
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.223 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.513178", "seconds": 60.513178}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.223290+03:00", "timestamp": 1758101165.22329}}}\n{"text": "2025-09-17 12:26:05.223 | INFO     | framework.resource.resource:__init__:80 - Resource event_resource created with type test\\n", "record": {"elapsed": {"repr": "0:01:00.513178", "seconds": 60.513178}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource event_resource created with type test", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.223290+03:00", "timestamp": 1758101165.22329}}}\n{"text": "2025-09-17 12:26:05.223 | INFO     | framework.resource.manager:register_resource:79 - Registered resource event_resource of type test\\n", "record": {"elapsed": {"repr": "0:01:00.513178", "seconds": 60.513178}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource event_resource of type test", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.223290+03:00", "timestamp": 1758101165.22329}}}\n{"text": "2025-09-17 12:26:05.223 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.513178", "seconds": 60.513178}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.223290+03:00", "timestamp": 1758101165.22329}}}\n{"text": "2025-09-17 12:26:05.224 | INFO     | framework.resource.resource:initialize:116 - Initializing resource event_resource\\n", "record": {"elapsed": {"repr": "0:01:00.514169", "seconds": 60.514169}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource event_resource", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.224281+03:00", "timestamp": 1758101165.224281}}}\n{"text": "2025-09-17 12:26:05.224 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource event_resource: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.514169", "seconds": 60.514169}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource event_resource: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.224281+03:00", "timestamp": 1758101165.224281}}}\n{"text": "2025-09-17 12:26:05.224 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource event_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: event_resource, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.514169", "seconds": 60.514169}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource event_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: event_resource, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.224281+03:00", "timestamp": 1758101165.224281}}}
________________ TestContextManager.test_context_manager_usage ________________
tests\resource\test_resource_manager.py:491: in test_context_manager_usage
    assert resource.is_ready
E   assert False
E    +  where False = <test_resource_manager.MockResource object at 0x0000019744B900D0>.is_ready
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.240 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | INFO     | framework.resource.resource:__init__:80 - Resource context_resource created with type test\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 80, "message": "Resource context_resource created with type test", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | INFO     | framework.resource.manager:register_resource:79 - Registered resource context_resource of type test\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "register_resource", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 79, "message": "Registered resource context_resource of type test", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | INFO     | framework.resource.manager:start_all_resources:164 - Starting all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 164, "message": "Starting all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | INFO     | framework.resource.resource:initialize:116 - Initializing resource context_resource\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 116, "message": "Initializing resource context_resource", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | ERROR    | framework.resource.resource:initialize:126 - Failed to initialize resource context_resource: property 'is_connected' of 'MockResource' object has no setter\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {"logger_name": "framework.resource.resource"}, "file": {"name": "resource.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\resource.py"}, "function": "initialize", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 126, "message": "Failed to initialize resource context_resource: property 'is_connected' of 'MockResource' object has no setter", "module": "resource", "name": "framework.resource.resource", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | ERROR    | framework.resource.manager:start_all_resources:181 - Failed to start resource context_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: context_resource, Type: None]\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u274c", "name": "ERROR", "no": 40}, "line": 181, "message": "Failed to start resource context_resource: Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: context_resource, Type: None]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | WARNING  | framework.resource.manager:start_all_resources:198 - Some resources failed to start: [('context_resource', \\"Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: context_resource, Type: None]\\")]\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "start_all_resources", "level": {"icon": "\u26a0\ufe0f", "name": "WARNING", "no": 30}, "line": 198, "message": "Some resources failed to start: [('context_resource', \\"Initialization failed: property 'is_connected' of 'MockResource' object has no setter [Resource: context_resource, Type: None]\\")]", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | INFO     | framework.resource.manager:stop_all_resources:211 - Stopping all resources...\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "stop_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 211, "message": "Stopping all resources...", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}\n{"text": "2025-09-17 12:26:05.240 | INFO     | framework.resource.manager:stop_all_resources:248 - All resources stopped\\n", "record": {"elapsed": {"repr": "0:01:00.530204", "seconds": 60.530204}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "stop_all_resources", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 248, "message": "All resources stopped", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.240316+03:00", "timestamp": 1758101165.240316}}}
____________ TestErrorHandling.test_resource_access_error_handling ____________
tests\resource\test_resource_manager.py:624: in test_resource_access_error_handling
    _ = manager["nonexistent"]
        ^^^^^^^^^^^^^^^^^^^^^^
framework\resource\manager.py:360: in __getitem__
    return self.get_resource(name)
           ^^^^^^^^^^^^^^^^^^^^^^^
framework\resource\manager.py:134: in get_resource
    raise ResourceNotFoundError(name)
E   framework.resource.exceptions.ResourceNotFoundError: Resource not found: nonexistent [Resource: nonexistent, Type: None]
---------------------------- Captured stdout call -----------------------------
{"text": "2025-09-17 12:26:05.264 | INFO     | framework.resource.manager:__init__:49 - ResourceManager created\\n", "record": {"elapsed": {"repr": "0:01:00.554203", "seconds": 60.554203}, "exception": null, "extra": {}, "file": {"name": "manager.py", "path": "d:\\\\UCore\\\\framework\\\\resource\\\\manager.py"}, "function": "__init__", "level": {"icon": "\u2139\ufe0f", "name": "INFO", "no": 20}, "line": 49, "message": "ResourceManager created", "module": "manager", "name": "framework.resource.manager", "process": {"id": 226816, "name": "MainProcess"}, "thread": {"id": 145104, "name": "MainThread"}, "time": {"repr": "2025-09-17 12:26:05.264315+03:00", "timestamp": 1758101165.264315}}}
=========================== short test summary info ===========================
FAILED tests/messaging/test_redis_adapter.py::TestRedisAdapterLifecycle::test_start_success_with_config
FAILED tests/messaging/test_redis_event_bridge.py::TestEventBusToRedisBridge::test_create_bridge_message_fallback
FAILED tests/messaging/test_redis_event_bridge.py::TestRedisToEventBusBridge::test_listener_callback_with_json_message
FAILED tests/messaging/test_redis_event_bridge.py::TestRedisToEventBusBridge::test_listener_callback_with_plain_text
FAILED tests/messaging/test_redis_event_bridge.py::TestRedisToEventBusBridge::test_listener_callback_error_handling
FAILED tests/messaging/test_redis_event_bridge.py::TestRedisAdapterEventBridgeIntegration::test_bridge_settings_override
FAILED tests/messaging/test_redis_event_bridge.py::TestBridgeForwarderExecution::test_eventbus_to_redis_forwarder_execution
FAILED tests/monitoring/test_logging.py::TestLoggingGetLogger::test_get_logger_cached_logger
FAILED tests/monitoring/test_progress.py::test_tqdm_progress_visualizer - Att...
FAILED tests/processing/test_adapters.py::test_task_queue_adapter_lifecycle
FAILED tests/processing/test_task_system.py::TestBackgroundTasks::test_process_data_task_list
FAILED tests/processing/test_task_system.py::TestTaskPerformance::test_concurrent_task_execution
FAILED tests/processing/test_task_system.py::TestTaskIntegration::test_task_with_celery_mock
FAILED tests/resource/test_backend_pool_types.py::test_resource_pool_lifecycle
FAILED tests/resource/test_resource_manager.py::TestResourceManagerInitialization::test_manager_properties
FAILED tests/resource/test_resource_manager.py::TestLifecycleManagement::test_start_all_resources_success
FAILED tests/resource/test_resource_manager.py::TestLifecycleManagement::test_start_all_resources_with_failure
FAILED tests/resource/test_resource_manager.py::TestLifecycleManagement::test_stop_all_resources_success
FAILED tests/resource/test_resource_manager.py::TestLifecycleManagement::test_stop_all_resources_with_failure
FAILED tests/resource/test_resource_manager.py::TestLifecycleManagement::test_shutdown_timeout
FAILED tests/resource/test_resource_manager.py::TestHealthMonitoring::test_health_check_all_resources
FAILED tests/resource/test_resource_manager.py::TestHealthMonitoring::test_health_check_monitoring_loop
FAILED tests/resource/test_resource_manager.py::TestHealthMonitoring::test_get_resource_stats
FAILED tests/resource/test_resource_manager.py::TestResourceCleanup::test_unregister_resource_with_di_cleanup
FAILED tests/resource/test_resource_manager.py::TestEventIntegration::test_event_publishing_on_startup
FAILED tests/resource/test_resource_manager.py::TestEventIntegration::test_event_publishing_on_shutdown
FAILED tests/resource/test_resource_manager.py::TestContextManager::test_context_manager_usage
FAILED tests/resource/test_resource_manager.py::TestErrorHandling::test_resource_access_error_handling
====== 28 failed, 650 passed, 4 skipped, 55 warnings in 60.82s (0:01:00) ======
